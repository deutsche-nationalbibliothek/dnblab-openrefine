#!/bin/bash

# Create a welcome.md file if it doesn't exist
echo "# Welcome to My Binder Project" > welcome.md

# Configure JupyterLab to open welcome.md on startup
mkdir -p ~/.jupyter/lab/user-settings/@jupyterlab/apputils-extension
cat <<EOT > ~/.jupyter/lab/user-settings/@jupyterlab/apputils-extension/default-layout.jupyterlab-settings
{
    "defaultLayout": {
        "openFiles": [
            "welcome.md"
        ]
    }
}
EOT

# Optional: If you want to open it in the editor instead of just the file browser
mkdir -p ~/.jupyter/lab/user-settings/@jupyterlab/docmanager-extension
cat <<EOT > ~/.jupyter/lab/user-settings/@jupyterlab/docmanager-extension/plugin.jupyterlab-settings
{
    "defaultViewers": {
        "markdown": "Markdown Preview"
    }
}
EOT
